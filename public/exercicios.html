<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ExercÃ­cios â€” FitApp</title>
  <link rel="stylesheet" href="./css/style.css">
</head>
<body class="min-h-screen pb-24 bg-zinc-950 text-white">

  <main class="p-5 max-w-md mx-auto">
    <header class="flex items-center justify-between mb-4">
      <h1 class="text-2xl font-bold">Biblioteca de ExercÃ­cios</h1>
      <input id="search" class="bg-zinc-900 rounded px-3 py-1 text-sm" placeholder="Buscar...">
    </header>

    <div id="list" class="space-y-3"></div>
  </main>

  <nav class="fixed bottom-0 left-0 w-full bg-zinc-900 border-t border-zinc-800">
    <ul class="flex justify-around py-3 text-zinc-400">
      <li><a href="./index.html">ğŸ </a></li>
      <li><a href="./treino.html">ğŸ”¥</a></li>
      <li><a href="./exercicios.html" class="text-white">ğŸ’ª</a></li>
      <li><a href="./perfil.html">ğŸ‘¤</a></li>
    </ul>
  </nav>

  <script type="module">
    const dataPath = './data/treinos.json';
    async function loadExercises() {
      const res = await fetch(dataPath);
      const json = await res.json();
      const list = document.getElementById('list');
      const all = Object.values(json.treinos).flatMap(t => t.exercicios);

      function render(filter='') {
        list.innerHTML = '';
        const filtered = all.filter(e => e.nome.toLowerCase().includes(filter.toLowerCase()));
        filtered.forEach(ex => {
          const div = document.createElement('div');
          div.className = 'bg-zinc-900 p-4 rounded-xl border border-zinc-800';
          div.innerHTML = `
            <div class="flex justify-between">
              <div>
                <div class="font-bold">${ex.nome}</div>
                <div class="text-zinc-400 text-sm">${ex.series} x ${ex.reps}</div>
              </div>
              <div class="text-zinc-400 text-sm">â€¢</div>
            </div>
          `;
          list.appendChild(div);
        });
      }

      document.getElementById('search').addEventListener('input', e => render(e.target.value));
      render();
    }
    loadExercises();
  </script>
</body>
</html>